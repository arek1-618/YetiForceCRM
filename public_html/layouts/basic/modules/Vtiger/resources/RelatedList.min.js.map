{"version":3,"file":"RelatedList.min.js","sources":["RelatedList.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\n\t'Vtiger_RelatedList_Js',\n\t{\n\t\trelatedListInstance: false,\n\t\tgetInstance: function(parentId, parentModule, selectedRelatedTabElement, relatedModuleName) {\n\t\t\tif (\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance === false ||\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance.moduleName !== relatedModuleName\n\t\t\t) {\n\t\t\t\tlet moduleClassName = app.getModuleName() + '_RelatedList_Js',\n\t\t\t\t\tfallbackClassName = Vtiger_RelatedList_Js,\n\t\t\t\t\tinstance;\n\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t\t} else {\n\t\t\t\t\tinstance = new fallbackClassName();\n\t\t\t\t}\n\t\t\t\tinstance.parentRecordId = parentId;\n\t\t\t\tinstance.parentModuleName = parentModule;\n\t\t\t\tinstance.selectedRelatedTabElement = selectedRelatedTabElement;\n\t\t\t\tinstance.moduleName = relatedModuleName;\n\t\t\t\tinstance.relatedTabsContainer = selectedRelatedTabElement.closest('div.related');\n\t\t\t\tinstance.content = $('div.contents', instance.relatedTabsContainer.closest('div.detailViewContainer'));\n\t\t\t\tinstance.relatedView = instance.content.find('input.relatedView').val();\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance = instance;\n\t\t\t}\n\t\t\treturn Vtiger_RelatedList_Js.relatedListInstance;\n\t\t},\n\t\ttriggerMassAction: function(massActionUrl, type) {\n\t\t\tconst self = this.relatedListInstance;\n\t\t\tlet validationResult = self.checkListRecordSelected();\n\t\t\tif (validationResult != true) {\n\t\t\t\tlet progressIndicatorElement = $.progressIndicator(),\n\t\t\t\t\tselectedIds = self.readSelectedIds(true),\n\t\t\t\t\texcludedIds = self.readExcludedIds(true),\n\t\t\t\t\tcvId = self.getCurrentCvId(),\n\t\t\t\t\tpostData = self.getCompleteParams();\n\t\t\t\tdelete postData.mode;\n\t\t\t\tdelete postData.view;\n\t\t\t\tpostData.viewname = cvId;\n\t\t\t\tpostData.selected_ids = selectedIds;\n\t\t\t\tpostData.excluded_ids = excludedIds;\n\t\t\t\tlet actionParams = {\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\turl: massActionUrl,\n\t\t\t\t\tdata: postData\n\t\t\t\t};\n\t\t\t\tif (type === 'sendByForm') {\n\t\t\t\t\tlet form = $('<form method=\"POST\" action=\"' + massActionUrl + '\">');\n\t\t\t\t\tif (typeof csrfMagicName !== 'undefined') {\n\t\t\t\t\t\tform.append($('<input />', { name: csrfMagicName, value: csrfMagicToken }));\n\t\t\t\t\t}\n\t\t\t\t\t$.each(postData, function(k, v) {\n\t\t\t\t\t\tform.append($('<input />', { name: k, value: v }));\n\t\t\t\t\t});\n\t\t\t\t\t$('body').append(form);\n\t\t\t\t\tform.submit();\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t} else {\n\t\t\t\t\tAppConnector.request(actionParams)\n\t\t\t\t\t\t.done(function(responseData) {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tif (responseData && responseData.result !== null) {\n\t\t\t\t\t\t\t\tif (responseData.result.notify) {\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(responseData.result.notify);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (responseData.result.reloadList) {\n\t\t\t\t\t\t\t\t\tVtiger_Detail_Js.reloadRelatedList();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (responseData.result.procesStop) {\n\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Method to verify if selected files exist\n\t\t * @param {int} selectedIds\n\t\t * @return boolean\n\t\t */\n\t\tverifyFileExist: function(selectedIds) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: 'Documents',\n\t\t\t\taction: 'CheckFileIntegrity',\n\t\t\t\tmode: 'multiple',\n\t\t\t\trecord: selectedIds\n\t\t\t}).done(function(responseData) {\n\t\t\t\tif (responseData && responseData.result !== null) {\n\t\t\t\t\tif (responseData.result.message) {\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({ text: responseData.result.message });\n\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\taDeferred.resolve(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Method to trigger mass download action\n\t\t * @param massActionUrl\n\t\t * @param type\n\t\t */\n\t\ttriggerMassDownload: function(massActionUrl, type) {\n\t\t\tconst self = this.relatedListInstance,\n\t\t\t\tthisInstance = this;\n\t\t\tthis.verifyFileExist(self.readSelectedIds(true)).done(function(data) {\n\t\t\t\tif (true === data) {\n\t\t\t\t\tthisInstance.triggerMassAction(massActionUrl.substring(0, massActionUrl.indexOf('&mode=multiple')), type);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\t{\n\t\tselectedRelatedTabElement: false,\n\t\tparentRecordId: false,\n\t\tparentModuleName: false,\n\t\tmoduleName: false,\n\t\trelatedTabsContainer: false,\n\t\tcontent: false,\n\t\tlistSearchInstance: false,\n\t\tdetailViewContentHolder: false,\n\t\trelatedView: false,\n\t\tframeProgress: false,\n\t\tnoEventsListSearch: false,\n\t\tlistViewContainer: false,\n\t\tsetSelectedTabElement: function(tabElement) {\n\t\t\tthis.selectedRelatedTabElement = tabElement;\n\t\t},\n\t\tgetSelectedTabElement: function() {\n\t\t\treturn this.selectedRelatedTabElement;\n\t\t},\n\t\tgetParentId: function() {\n\t\t\treturn this.parentRecordId;\n\t\t},\n\t\tgetRelatedContainer: function() {\n\t\t\treturn this.content;\n\t\t},\n\t\tsetRelatedContainer: function(container) {\n\t\t\tthis.content = container;\n\t\t\tthis.relatedView = container.find('input.relatedView').val();\n\t\t},\n\t\tgetContentHolder: function() {\n\t\t\tif (this.detailViewContentHolder == false) {\n\t\t\t\tthis.detailViewContentHolder = $('div.details div.contents');\n\t\t\t}\n\t\t\treturn this.detailViewContentHolder;\n\t\t},\n\t\tgetCurrentPageNum: function() {\n\t\t\treturn $('input[name=\"currentPageNum\"]', this.content).val();\n\t\t},\n\t\tsetCurrentPageNumber: function(pageNumber) {\n\t\t\t$('input[name=\"currentPageNum\"]', this.content).val(pageNumber);\n\t\t},\n\t\tgetOrderBy: function() {\n\t\t\treturn $('#orderBy', this.content).val();\n\t\t},\n\t\tgetSortOrder: function() {\n\t\t\treturn $('#sortOrder', this.content).val();\n\t\t},\n\t\tgetCompleteParams: function() {\n\t\t\tvar container = this.getRelatedContainer();\n\t\t\tvar params = {\n\t\t\t\tview: 'Detail',\n\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\trecord: this.getParentId(),\n\t\t\t\trelatedModule: this.moduleName,\n\t\t\t\tsortorder: this.getSortOrder(),\n\t\t\t\torderby: this.getOrderBy(),\n\t\t\t\tpage: this.getCurrentPageNum(),\n\t\t\t\trelatedView: this.relatedView,\n\t\t\t\tmode: 'showRelatedList'\n\t\t\t};\n\t\t\tif (container.find('.pagination').length) {\n\t\t\t\tparams['totalCount'] = container.find('.pagination').data('totalCount');\n\t\t\t}\n\t\t\tif (container.find('.entityState').length) {\n\t\t\t\tparams['entityState'] = container.find('.entityState').val();\n\t\t\t}\n\t\t\tif (this.listSearchInstance) {\n\t\t\t\tvar searchValue = this.listSearchInstance.getAlphabetSearchValue();\n\t\t\t\tparams.search_params = JSON.stringify(this.listSearchInstance.getListSearchParams());\n\t\t\t}\n\t\t\tif (typeof searchValue !== 'undefined' && searchValue.length > 0) {\n\t\t\t\tparams['search_key'] = this.listSearchInstance.getAlphabetSearchField();\n\t\t\t\tparams['search_value'] = searchValue;\n\t\t\t\tparams['operator'] = 's';\n\t\t\t}\n\t\t\tif (this.moduleName == 'Calendar') {\n\t\t\t\tvar switchBtn = container.find('.js-switch--calendar');\n\t\t\t\tif (switchBtn.length) {\n\t\t\t\t\tparams.time = switchBtn.first().prop('checked') ? 'current' : 'history';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn params;\n\t\t},\n\t\tloadRelatedList: function(params) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar thisInstance = this;\n\t\t\tif (typeof thisInstance.moduleName === 'undefined' || thisInstance.moduleName.length <= 0) {\n\t\t\t\tvar currentInstance = Vtiger_Detail_Js.getInstance();\n\t\t\t\tcurrentInstance.loadWidgets();\n\t\t\t\treturn aDeferred.promise();\n\t\t\t}\n\t\t\tvar progressInstance = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar completeParams = this.getCompleteParams();\n\t\t\tvar activeTabsReference = thisInstance.relatedTabsContainer.find('li.active').data('reference');\n\t\t\tAppConnector.request($.extend(completeParams, params))\n\t\t\t\t.done(function(responseData) {\n\t\t\t\t\tvar currentInstance = Vtiger_Detail_Js.getInstance();\n\t\t\t\t\tcurrentInstance.loadWidgets();\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (activeTabsReference !== 'ProductsAndServices') {\n\t\t\t\t\t\tthisInstance.relatedTabsContainer.find('li').removeClass('active');\n\t\t\t\t\t\tthisInstance.selectedRelatedTabElement.addClass('active');\n\t\t\t\t\t\tthisInstance.content.html(responseData);\n\t\t\t\t\t\t$('.pageNumbers', thisInstance.content).tooltip();\n\t\t\t\t\t\tthisInstance.registerPostLoadEvents();\n\t\t\t\t\t\tthisInstance.registerListEvents();\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.resolve(responseData);\n\t\t\t\t})\n\t\t\t\t.fail(function(textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOT_ALLOWED_VALUE'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\ttriggerDisplayTypeEvent: function() {\n\t\t\tvar widthType = app.cacheGet('widthType', 'narrowWidthType');\n\t\t\tif (widthType) {\n\t\t\t\tvar elements = this.content.find('.listViewEntriesTable').find('td,th');\n\t\t\t\telements.attr('class', widthType);\n\t\t\t}\n\t\t},\n\t\tshowSelectRelation: function(extendParams) {\n\t\t\tlet params = $.extend(this.getRecordsListParams(), extendParams);\n\t\t\tapp.showRecordsList(params, (modal, instance) => {\n\t\t\t\tinstance.setSelectEvent(responseData => {\n\t\t\t\t\tthis.addRelations(Object.keys(responseData)).done(() => {\n\t\t\t\t\t\tapp.event.trigger('RelatedListView.AfterSelectRelation', responseData, this, instance, params);\n\t\t\t\t\t\tlet detail = Vtiger_Detail_Js.getInstance();\n\t\t\t\t\t\tthis.loadRelatedList().done(function() {\n\t\t\t\t\t\t\tdetail.registerRelatedModulesRecordCount();\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (this.getSelectedTabElement().data('link-key') === 'LBL_RECORD_SUMMARY') {\n\t\t\t\t\t\t\tdetail.loadWidgets();\n\t\t\t\t\t\t\tdetail.registerRelatedModulesRecordCount();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgetRecordsListParams: function() {\n\t\t\treturn {\n\t\t\t\tmodule: this.moduleName,\n\t\t\t\tsrc_module: this.parentModuleName,\n\t\t\t\tsrc_record: this.parentRecordId,\n\t\t\t\tmulti_select: true\n\t\t\t};\n\t\t},\n\t\taddRelations: function(idList) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\taction: 'RelationAjax',\n\t\t\t\tmode: 'addRelation',\n\t\t\t\trelated_module: this.moduleName,\n\t\t\t\tsrc_record: this.parentRecordId,\n\t\t\t\trelated_record_list: $.isArray(idList) ? JSON.stringify(idList) : idList\n\t\t\t})\n\t\t\t\t.done(function(responseData) {\n\t\t\t\t\taDeferred.resolve(responseData);\n\t\t\t\t})\n\t\t\t\t.fail(function(textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tdeleteRelation(target) {\n\t\t\tlet params = {};\n\t\t\tif (target.data('url')) {\n\t\t\t\tparams = target.data('url');\n\t\t\t} else {\n\t\t\t\tlet id = target.data('id') ? target.data('id') : element.closest('tr').data('id');\n\t\t\t\tparams = {\n\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'deleteRelation',\n\t\t\t\t\trelated_module: this.moduleName,\n\t\t\t\t\tsrc_record: this.parentRecordId,\n\t\t\t\t\trelated_record_list: JSON.stringify([id])\n\t\t\t\t};\n\t\t\t}\n\t\t\tlet progressInstance = $.progressIndicator({ position: 'html', blockInfo: { enabled: true } });\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(response => {\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (response.result) {\n\t\t\t\t\t\tlet widget = target.closest('.widgetContentBlock');\n\t\t\t\t\t\tconst detail = Vtiger_Detail_Js.getInstance();\n\t\t\t\t\t\tif (widget.length) {\n\t\t\t\t\t\t\tdetail.loadWidget(widget);\n\t\t\t\t\t\t\tlet updatesWidget = this.getContentHolder().find('[data-type=\"Updates\"]');\n\t\t\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\t\t\tdetail.loadWidget(updatesWidget);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.loadRelatedList();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdetail.registerRelatedModulesRecordCount();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(app.vtranslate('JS_CANNOT_REMOVE_RELATION'));\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function(err, errThrow) {\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(app.vtranslate('JS_CANNOT_REMOVE_RELATION'));\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to handle Sort\n\t\t */\n\t\tsortHandler: function(headerElement) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar sortOrderVal = headerElement.data('nextsortorderval');\n\t\t\tif (typeof sortOrderVal === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.loadRelatedList({\n\t\t\t\torderby: headerElement.data('fieldname'),\n\t\t\t\tsortorder: sortOrderVal\n\t\t\t})\n\t\t\t\t.done(function(data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function(textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle next page navigation\n\t\t */\n\t\tnextPageHandler: function() {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar thisInstance = this;\n\t\t\tvar pageLimit = jQuery('#pageLimit', this.content).val();\n\t\t\tvar noOfEntries = jQuery('#noOfEntries', this.content).val();\n\t\t\tif (noOfEntries == pageLimit) {\n\t\t\t\tvar pageNumber = this.getCurrentPageNum();\n\t\t\t\tvar nextPage = parseInt(pageNumber) + 1;\n\t\t\t\tthis.loadRelatedList({\n\t\t\t\t\tpage: nextPage\n\t\t\t\t})\n\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\tthisInstance.setCurrentPageNumber(nextPage);\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(textStatus, errorThrown) {\n\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle next page navigation\n\t\t */\n\t\tpreviousPageHandler: function() {\n\t\t\tconst thisInstance = this,\n\t\t\t\taDeferred = jQuery.Deferred();\n\t\t\tlet pageNumber = this.getCurrentPageNum();\n\t\t\tif (pageNumber > 1) {\n\t\t\t\tlet previousPage = parseInt(pageNumber) - 1;\n\t\t\t\tthis.loadRelatedList({\n\t\t\t\t\tpage: previousPage\n\t\t\t\t})\n\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\tthisInstance.setCurrentPageNumber(previousPage);\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(textStatus, errorThrown) {\n\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle select page jump in related list\n\t\t */\n\t\tselectPageHandler: function(pageNumber) {\n\t\t\tconst thisInstance = this,\n\t\t\t\taDeferred = jQuery.Deferred();\n\t\t\tthis.loadRelatedList({\n\t\t\t\tpage: pageNumber\n\t\t\t})\n\t\t\t\t.done(function(data) {\n\t\t\t\t\tthisInstance.setCurrentPageNumber(pageNumber);\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function(textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle page jump in related list\n\t\t */\n\t\tpageJumpHandler: function(e) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar thisInstance = this;\n\t\t\tif (e.which == 13) {\n\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\tvar response = Vtiger_WholeNumberGreaterThanZero_Validator_Js.invokeValidation(element);\n\t\t\t\tif (typeof response !== 'undefined') {\n\t\t\t\t\telement.validationEngine('showPrompt', response, '', 'topLeft', true);\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else {\n\t\t\t\t\telement.validationEngine('hideAll');\n\t\t\t\t\tvar jumpToPage = parseInt(element.val());\n\t\t\t\t\tvar totalPages = parseInt(jQuery('#totalPageCount', thisInstance.content).text());\n\t\t\t\t\tif (jumpToPage > totalPages) {\n\t\t\t\t\t\tvar error = app.vtranslate('JS_PAGE_NOT_EXIST');\n\t\t\t\t\t\telement.validationEngine('showPrompt', error, '', 'topLeft', true);\n\t\t\t\t\t}\n\t\t\t\t\tvar invalidFields = element.parent().find('.formError');\n\t\t\t\t\tif (invalidFields.length < 1) {\n\t\t\t\t\t\tvar currentPage = jQuery('input[name=\"currentPageNum\"]', thisInstance.content).val();\n\t\t\t\t\t\tif (jumpToPage == currentPage) {\n\t\t\t\t\t\t\tvar message = app.vtranslate('JS_YOU_ARE_IN_PAGE_NUMBER') + ' ' + jumpToPage;\n\t\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\t\ttext: message,\n\t\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.loadRelatedList({\n\t\t\t\t\t\t\tpage: jumpToPage\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\t\t\tthisInstance.setCurrentPageNumber(jumpToPage);\n\t\t\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.fail(function(textStatus, errorThrown) {\n\t\t\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to add related record for the module\n\t\t */\n\t\taddRelatedRecord: function(element, callback) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar thisInstance = this;\n\t\t\tvar referenceModuleName = this.moduleName;\n\t\t\tvar parentId = this.getParentId();\n\t\t\tvar parentModule = this.parentModuleName;\n\t\t\tvar quickCreateParams = {};\n\t\t\tvar relatedParams = {};\n\t\t\tvar relatedField = element.data('name');\n\t\t\tvar fullFormUrl = element.data('url');\n\t\t\trelatedParams[relatedField] = parentId;\n\t\t\tvar eliminatedKeys = new Array('view', 'module', 'mode', 'action');\n\n\t\t\tvar preQuickCreateSave = function(data) {\n\t\t\t\tvar index, queryParam, queryParamComponents;\n\t\t\t\tlet queryParameters = [];\n\n\t\t\t\t//To handle switch to task tab when click on add task from related list of activities\n\t\t\t\t//As this is leading to events tab intially even clicked on add task\n\t\t\t\tif (typeof fullFormUrl !== 'undefined' && fullFormUrl.indexOf('?') !== -1) {\n\t\t\t\t\tvar urlSplit = fullFormUrl.split('?');\n\t\t\t\t\tvar queryString = urlSplit[1];\n\t\t\t\t\tqueryParameters = queryString.split('&');\n\t\t\t\t\tfor (index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\t\tqueryParam = queryParameters[index];\n\t\t\t\t\t\tqueryParamComponents = queryParam.split('=');\n\t\t\t\t\t\tif (queryParamComponents[0] == 'mode' && queryParamComponents[1] == 'Calendar') {\n\t\t\t\t\t\t\tdata.find('a[data-tab-name=\"Task\"]').trigger('click');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"sourceModule\" value=\"' + parentModule + '\" />').appendTo(data);\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"sourceRecord\" value=\"' + parentId + '\" />').appendTo(data);\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"relationOperation\" value=\"true\" />').appendTo(data);\n\n\t\t\t\tif (typeof relatedField !== 'undefined') {\n\t\t\t\t\tvar field = data.find('[name=\"' + relatedField + '\"]');\n\t\t\t\t\t//If their is no element with the relatedField name,we are adding hidden element with\n\t\t\t\t\t//name as relatedField name,for saving of record with relation to parent record\n\t\t\t\t\tif (field.length == 0) {\n\t\t\t\t\t\tjQuery('<input type=\"hidden\" name=\"' + relatedField + '\" value=\"' + parentId + '\" />').appendTo(data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\tqueryParam = queryParameters[index];\n\t\t\t\t\tqueryParamComponents = queryParam.split('=');\n\t\t\t\t\tif (\n\t\t\t\t\t\tjQuery.inArray(queryParamComponents[0], eliminatedKeys) == '-1' &&\n\t\t\t\t\t\tdata.find('[name=\"' + queryParamComponents[0] + '\"]').length == 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tjQuery(\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"' + queryParamComponents[0] + '\" value=\"' + queryParamComponents[1] + '\" />'\n\t\t\t\t\t\t).appendTo(data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (typeof callback !== 'undefined') {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar postQuickCreateSave = function(data) {\n\t\t\t\tthisInstance.loadRelatedList().done(function(data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t//If url contains params then seperate them and make them as relatedParams\n\t\t\tif (typeof fullFormUrl !== 'undefined' && fullFormUrl.indexOf('?') !== -1) {\n\t\t\t\tvar urlSplit = fullFormUrl.split('?');\n\t\t\t\tvar queryString = urlSplit[1];\n\t\t\t\tvar queryParameters = queryString.split('&');\n\t\t\t\tfor (var index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\tvar queryParam = queryParameters[index];\n\t\t\t\t\tvar queryParamComponents = queryParam.split('=');\n\t\t\t\t\tif (jQuery.inArray(queryParamComponents[0], eliminatedKeys) == '-1') {\n\t\t\t\t\t\trelatedParams[queryParamComponents[0]] = queryParamComponents[1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tquickCreateParams['data'] = relatedParams;\n\t\t\tquickCreateParams['callbackFunction'] = postQuickCreateSave;\n\t\t\tquickCreateParams['callbackPostShown'] = preQuickCreateSave;\n\t\t\tquickCreateParams['noCache'] = true;\n\t\t\tVtiger_Header_Js.getInstance().quickCreateModule(referenceModuleName, quickCreateParams);\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tgetRelatedPageCount: function() {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar element = this.content.find('#totalPageCount');\n\t\t\tvar totalCountElem = this.content.find('#totalCount');\n\t\t\tvar totalPageNumber = element.text();\n\t\t\tif (totalPageNumber == '') {\n\t\t\t\telement.progressIndicator({});\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'getRelatedListPageCount',\n\t\t\t\t\trecord: this.getParentId(),\n\t\t\t\t\trelatedModule: this.moduleName\n\t\t\t\t})\n\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\tvar pageCount = data['result']['page'];\n\t\t\t\t\t\tvar numberOfRecords = data['result']['numberOfRecords'];\n\t\t\t\t\t\ttotalCountElem.val(numberOfRecords);\n\t\t\t\t\t\telement.text(pageCount);\n\t\t\t\t\t\telement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\taDeferred.resolve();\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\t\taDeferred.reject(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\taDeferred.resolve();\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tfavoritesRelation: function(relcrmId, state) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tif (relcrmId) {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'updateFavoriteForRecord',\n\t\t\t\t\trecord: this.getParentId(),\n\t\t\t\t\trelcrmid: relcrmId,\n\t\t\t\t\trelatedModule: this.moduleName,\n\t\t\t\t\tactionMode: state ? 'delete' : 'add'\n\t\t\t\t})\n\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\tif (data.result) aDeferred.resolve(true);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\t\taDeferred.reject(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\taDeferred.reject(false);\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tupdatePreview: function(url) {\n\t\t\tvar frame = this.content.find('.listPreviewframe');\n\t\t\tthis.frameProgress = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tmessage: app.vtranslate('JS_FRAME_IN_PROGRESS'),\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar defaultView = '';\n\t\t\tif (app.getMainParams('defaultDetailViewName')) {\n\t\t\t\tdefaultView =\n\t\t\t\t\tdefaultView + '&mode=showDetailViewByMode&requestMode=' + app.getMainParams('defaultDetailViewName'); // full, summary\n\t\t\t}\n\t\t\tframe.attr('src', url.replace('view=Detail', 'view=DetailPreview') + defaultView);\n\t\t},\n\t\tregisterUnreviewedCountEvent: function() {\n\t\t\tvar ids = [];\n\t\t\tvar relatedContent = this.content;\n\t\t\tvar isUnreviewedActive = relatedContent.find('.unreviewed').length;\n\t\t\trelatedContent.find('tr.listViewEntries').each(function() {\n\t\t\t\tvar id = jQuery(this).data('id');\n\t\t\t\tif (id) {\n\t\t\t\t\tids.push(id);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!ids || isUnreviewedActive < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tAppConnector.request({\n\t\t\t\taction: 'ChangesReviewedOn',\n\t\t\t\tmode: 'getUnreviewed',\n\t\t\t\tmodule: 'ModTracker',\n\t\t\t\tsourceModule: this.moduleName,\n\t\t\t\trecordsId: ids\n\t\t\t}).done(function(appData) {\n\t\t\t\tvar data = appData.result;\n\t\t\t\t$.each(data, function(id, value) {\n\t\t\t\t\tif (value.a > 0) {\n\t\t\t\t\t\trelatedContent\n\t\t\t\t\t\t\t.find('tr[data-id=\"' + id + '\"] .unreviewed .badge.all')\n\t\t\t\t\t\t\t.text(value.a)\n\t\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t\t.removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t\tif (value.m > 0) {\n\t\t\t\t\t\trelatedContent\n\t\t\t\t\t\t\t.find('tr[data-id=\"' + id + '\"] .unreviewed .badge.mail')\n\t\t\t\t\t\t\t.text(value.m)\n\t\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t\t.removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterChangeEntityStateEvent: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar relatedContent = this.content;\n\t\t\trelatedContent.on('click', '.dropdownEntityState a', function(e) {\n\t\t\t\tvar element = $(this);\n\t\t\t\trelatedContent.find('.entityState').val(element.data('value'));\n\t\t\t\trelatedContent.find('.pagination').data('totalCount', 0);\n\t\t\t\trelatedContent\n\t\t\t\t\t.find('.dropdownEntityState button')\n\t\t\t\t\t.find('span')\n\t\t\t\t\t.attr('class', element.find('span').attr('class'));\n\t\t\t\tthisInstance.loadRelatedList({ page: 1 });\n\t\t\t});\n\t\t},\n\t\tregisterRowsEvent: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tif (this.relatedView === 'List' || this.relatedView === 'Detail') {\n\t\t\t\tthis.content.find('.listViewEntries').on('click', function(e) {\n\t\t\t\t\tif ($(e.target).is('td')) {\n\t\t\t\t\t\tif (app.getViewName() == 'DetailPreview') {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t$(e.target)\n\t\t\t\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t\t\t\t.data('recordurl')\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\ttop.document.location.href = $(e.target)\n\t\t\t\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t\t\t\t.data('recordurl');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t$(e.target)\n\t\t\t\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t\t\t\t.data('recordurl')\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tdocument.location.href = $(e.target)\n\t\t\t\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t\t\t\t.data('recordurl');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.content.find('.showInventoryRow').on('click', function(e) {\n\t\t\t\t\tvar target = $(this);\n\t\t\t\t\tvar row = target.closest('tr');\n\t\t\t\t\tvar inventoryRow = row.next();\n\t\t\t\t\tif (inventoryRow.hasClass('listViewInventoryEntries')) {\n\t\t\t\t\t\tinventoryRow.toggleClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (this.relatedView === 'ListPreview') {\n\t\t\t\tthis.content.find('.listViewEntries').on('click', function(e) {\n\t\t\t\t\tlet target = $(e.target);\n\t\t\t\t\tif (target.closest('div').hasClass('actions')) return;\n\t\t\t\t\tif (target.is('button') || target.parent().is('button')) return;\n\t\t\t\t\tif (target.closest('a').hasClass('noLinkBtn')) return;\n\t\t\t\t\tif ($(e.target, $(e.currentTarget)).is('td:first-child')) return;\n\t\t\t\t\tif (target.is('input[type=\"checkbox\"]')) return;\n\t\t\t\t\tif (\n\t\t\t\t\t\t$.contains(\n\t\t\t\t\t\t\t$(e.currentTarget)\n\t\t\t\t\t\t\t\t.find('td:last-child')\n\t\t\t\t\t\t\t\t.get(0),\n\t\t\t\t\t\t\ttarget[0]\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t\treturn;\n\t\t\t\t\tif (\n\t\t\t\t\t\t$.contains(\n\t\t\t\t\t\t\t$(e.currentTarget)\n\t\t\t\t\t\t\t\t.find('td:first-child')\n\t\t\t\t\t\t\t\t.get(0),\n\t\t\t\t\t\t\ttarget[0]\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t\treturn;\n\t\t\t\t\tvar recordUrl = $(this).data('recordurl');\n\t\t\t\t\tthisInstance.content.find('.listViewEntriesTable .listViewEntries').removeClass('active');\n\t\t\t\t\t$(this).addClass('active');\n\t\t\t\t\tthisInstance.updatePreview(recordUrl);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterSummationEvent: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tthis.content.on('click', '.listViewSummation button', function() {\n\t\t\t\tvar button = $(this);\n\t\t\t\tvar calculateValue = button.closest('td').find('.calculateValue');\n\t\t\t\tvar params = thisInstance.getCompleteParams();\n\t\t\t\tparams['action'] = 'RelationAjax';\n\t\t\t\tparams['mode'] = 'calculate';\n\t\t\t\tparams['fieldName'] = button.data('field');\n\t\t\t\tparams['calculateType'] = button.data('operator');\n\t\t\t\tdelete params['view'];\n\t\t\t\tvar progress = $.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_CALCULATING_IN_PROGRESS'),\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tapp.hidePopover(button);\n\t\t\t\tAppConnector.request(params).done(function(response) {\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\tcalculateValue.html(response.result);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcalculateValue.html('');\n\t\t\t\t\t}\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t},\n\t\tregisterPreviewEvent: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contentHeight = this.content.find('.js-detail-preview,.js-list-preview');\n\t\t\tcontentHeight.height(app.getScreenHeight() - (this.content.offset().top + $('.js-footer').height()));\n\t\t\tthis.content.find('.listPreviewframe').on('load', function() {\n\t\t\t\tif (thisInstance.frameProgress) {\n\t\t\t\t\tthisInstance.frameProgress.progressIndicator({ mode: 'hide' });\n\t\t\t\t}\n\t\t\t\tcontentHeight.height(\n\t\t\t\t\t$(this)\n\t\t\t\t\t\t.contents()\n\t\t\t\t\t\t.find('.bodyContents')\n\t\t\t\t\t\t.height() + 2\n\t\t\t\t);\n\t\t\t});\n\t\t\tthis.content\n\t\t\t\t.find('.listViewEntriesTable .listViewEntries')\n\t\t\t\t.first()\n\t\t\t\t.trigger('click');\n\t\t},\n\t\tregisterPaginationEvents: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar relatedContent = this.content;\n\t\t\tthis.content.on('click', '#relatedViewNextPageButton', function(e) {\n\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthisInstance.nextPageHandler();\n\t\t\t});\n\t\t\tthis.content.on('click', '#relatedViewPreviousPageButton', function() {\n\t\t\t\tthisInstance.previousPageHandler();\n\t\t\t});\n\t\t\tthis.content.on('click', '#relatedListPageJump', function(e) {\n\t\t\t\tthisInstance.getRelatedPageCount();\n\t\t\t});\n\t\t\tthis.content\n\t\t\t\t.on('click', '#relatedListPageJumpDropDown > li', function(e) {\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t})\n\t\t\t\t.on('keypress', '#pageToJump', function(e) {\n\t\t\t\t\tthisInstance.pageJumpHandler(e);\n\t\t\t\t});\n\t\t\tthis.content.on('click', '.pageNumber', function() {\n\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthisInstance.selectPageHandler($(this).data('id'));\n\t\t\t});\n\t\t\tthis.content.on('click', '#totalCountBtn', function() {\n\t\t\t\tapp.hidePopover($(this));\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: thisInstance.parentModuleName,\n\t\t\t\t\tview: 'Pagination',\n\t\t\t\t\tmode: 'getRelationPagination',\n\t\t\t\t\trecord: thisInstance.getParentId(),\n\t\t\t\t\trelatedModule: thisInstance.moduleName,\n\t\t\t\t\tnoOfEntries: $('#noOfEntries', relatedContent).val(),\n\t\t\t\t\tpage: relatedContent.find('[name=\"currentPageNum\"]').val()\n\t\t\t\t};\n\t\t\t\tif (relatedContent.find('.entityState').length) {\n\t\t\t\t\tparams['entityState'] = relatedContent.find('.entityState').val();\n\t\t\t\t}\n\t\t\t\tAppConnector.request(params).done(function(response) {\n\t\t\t\t\trelatedContent.find('.paginationDiv').html(response);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterListEvents: function() {\n\t\t\tvar relatedContent = this.content;\n\t\t\tvar thisInstance = this;\n\t\t\tthis.content.on('click', '.relatedListHeaderValues', function(e) {\n\t\t\t\tthisInstance.sortHandler($(this));\n\t\t\t});\n\t\t\tthis.content.find('a.favorites').on('click', function(e) {\n\t\t\t\tvar progressInstance = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar element = $(this);\n\t\t\t\tvar row = element.closest('tr');\n\t\t\t\tthisInstance.favoritesRelation(row.data('id'), element.data('state')).done(function(response) {\n\t\t\t\t\tif (response) {\n\t\t\t\t\t\tvar state = element.data('state') ? 0 : 1;\n\t\t\t\t\t\telement.data('state', state);\n\t\t\t\t\t\tif (state) {\n\t\t\t\t\t\t\telement.find('.far').addClass('d-none');\n\t\t\t\t\t\t\telement.find('.fas').removeClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\telement.find('.fas').addClass('d-none');\n\t\t\t\t\t\t\telement.find('.far').removeClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tvar text = app.vtranslate('JS_REMOVED_FROM_FAVORITES');\n\t\t\t\t\t\tif (state) {\n\t\t\t\t\t\t\ttext = app.vtranslate('JS_ADDED_TO_FAVORITES');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({ text: text, type: 'success' });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.content.find('[name=\"addButton\"]').on('click', function(e) {\n\t\t\t\tconst element = $(this);\n\t\t\t\tif (element.hasClass('quickCreateSupported') !== true) {\n\t\t\t\t\tapp.openUrl(element.data('url'));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthisInstance.addRelatedRecord(element);\n\t\t\t});\n\t\t\tthis.content.find('button.selectRelation').on('click', function(e) {\n\t\t\t\tlet restrictionsField = $(this).data('rf');\n\t\t\t\tlet params = {};\n\t\t\t\tif (restrictionsField && Object.keys(restrictionsField).length > 0) {\n\t\t\t\t\tparams = {\n\t\t\t\t\t\tsearch_key: restrictionsField.key,\n\t\t\t\t\t\tsearch_value: restrictionsField.name\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tthisInstance.showSelectRelation(params);\n\t\t\t});\n\t\t\tthis.content.find('button.relationDelete').on('click', function(e) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tlet target = $(e.currentTarget);\n\t\t\t\tlet params = {};\n\t\t\t\tif (target.data('confirm')) {\n\t\t\t\t\tparams.message = target.data('confirm');\n\t\t\t\t\tparams.title = target.html() + ' ' + target.data('content');\n\t\t\t\t} else if (target.data('content')) {\n\t\t\t\t\tparams.message = target.data('content');\n\t\t\t\t} else {\n\t\t\t\t\tparams.message = app.vtranslate('JS_DELETE_CONFIRMATION');\n\t\t\t\t}\n\t\t\t\tVtiger_Helper_Js.showConfirmationBox(params).done(function() {\n\t\t\t\t\tthisInstance.deleteRelation(target);\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.content.find('.js-switch--calendar').on('change', function(e) {\n\t\t\t\tthisInstance.loadRelatedList();\n\t\t\t});\n\t\t\tthis.content.find('.relatedViewGroup a').on('click', function(e) {\n\t\t\t\tvar element = $(this);\n\t\t\t\tthisInstance.relatedView = element.data('view');\n\t\t\t\trelatedContent.find('.pagination').data('totalCount', 0);\n\t\t\t\tthisInstance.loadRelatedList({ page: 1 });\n\t\t\t});\n\t\t},\n\t\tregisterPostLoadEvents: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tthis.registerRowsEvent();\n\t\t\tthis.registerListScroll();\n\t\t\tif (this.relatedView === 'ListPreview') {\n\t\t\t\tthis.registerPreviewEvent();\n\t\t\t\tif (!this.content.find('.gutter').length) {\n\t\t\t\t\tif (!this.content.find('.js-list-preview').length) return;\n\t\t\t\t\tthis.getDomParams(this.content);\n\t\t\t\t\tthis.toggleSplit(this.content);\n\t\t\t\t\tthis.registerListPreviewEvents(this.content);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.listSearchInstance = YetiForce_ListSearch_Js.getInstance(this.content, false, this);\n\t\t\tapp.event.trigger('RelatedList.AfterLoad', thisInstance);\n\t\t},\n\t\tgetSecondColMinWidth: function(container) {\n\t\t\tlet maxWidth = 0,\n\t\t\t\tthisWidth;\n\t\t\tcontainer.find('.js-list__row').each(function(i) {\n\t\t\t\tthisWidth = $(this)\n\t\t\t\t\t.find('.js-list__field')\n\t\t\t\t\t.first()\n\t\t\t\t\t.width();\n\t\t\t\tif (i === 0) {\n\t\t\t\t\tmaxWidth = thisWidth;\n\t\t\t\t} else {\n\t\t\t\t\tthisWidth > maxWidth ? (maxWidth = thisWidth) : maxWidth;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn maxWidth;\n\t\t},\n\t\tgetDomParams: function(container) {\n\t\t\tthis.listColumnFirstWidth = container\n\t\t\t\t.find('.listViewEntriesDiv .listViewHeaders th')\n\t\t\t\t.first()\n\t\t\t\t.width();\n\t\t\tthis.listColumnSecondWidth = this.getSecondColMinWidth(container);\n\t\t\tthis.windowW = $(window).width();\n\t\t\tthis.mainBody = container.closest('.mainBody');\n\t\t\tthis.windowMinWidth = (15 / this.windowW) * 100;\n\t\t\tthis.windowMaxWidth = 100 - this.minWidth;\n\t\t\tthis.sideBlocks = container.find('.js-side-block');\n\t\t\tthis.sideBlockLeft = this.sideBlocks.first();\n\t\t\tthis.sideBlockRight = this.sideBlocks.last();\n\t\t\tthis.list = container.find('.js-list-preview');\n\t\t\tthis.preview = container.find('.js-detail-preview');\n\t\t\tthis.rotatedText = container.find('.u-rotate-90');\n\t\t\tthis.footerH = $('.js-footer').outerHeight();\n\t\t\tthis.headerH = $('.js-header').outerHeight();\n\t\t},\n\t\tgetDefaultSplitSizes: function() {\n\t\t\tlet thWidth = ((this.listColumnFirstWidth + this.listColumnSecondWidth + 82) / this.windowW) * 100;\n\t\t\treturn [thWidth, 100 - thWidth];\n\t\t},\n\t\tgetSplitSizes() {\n\t\t\tconst cachedParams = app.moduleCacheGet('userRelatedSplitSet');\n\t\t\tif (cachedParams !== undefined) {\n\t\t\t\treturn cachedParams;\n\t\t\t} else {\n\t\t\t\treturn this.getDefaultSplitSizes();\n\t\t\t}\n\t\t},\n\t\tregisterListPreviewEvents: function(container) {\n\t\t\tvar listPreview = container.find('.js-detail-preview');\n\t\t\tvar mainBody = container.closest('.mainBody');\n\t\t\tapp.showNewScrollbarTopBottom(container.find('.js-list-preview--scroll'));\n\t\t\tapp.showNewScrollbarLeft(this.list);\n\t\t\tmainBody.scrollTop(0); // reset scroll to set correct start position\n\t\t\tlet listOffsetTop = this.list.offset().top - this.headerH;\n\t\t\tlet initialH = this.sideBlocks.height();\n\t\t\tlet mainViewPortHeightCss = { height: mainBody.height() };\n\t\t\tlet mainViewPortWidthCss = { width: mainBody.height() };\n\t\t\tthis.gutter.addClass('js-fixed-scroll');\n\t\t\tlet fixedElements = container.find('.js-fixed-scroll');\n\t\t\tif (!mainBody.length) {\n\t\t\t\tmainBody = $(top.document).find('.mainBody');\n\t\t\t\tthis.headerH = $(top.document)\n\t\t\t\t\t.find('.js-header')\n\t\t\t\t\t.outerHeight();\n\t\t\t\tlet iframe = $(top.document).find('.js-detail-preview');\n\t\t\t\tlistOffsetTop = this.list.offset().top + iframe.offset().top - this.headerH + 1;\n\t\t\t\tmainViewPortHeightCss = { height: mainBody.height() };\n\t\t\t\tmainViewPortWidthCss = { width: mainBody.height() };\n\t\t\t}\n\t\t\tthis.list.on('click', '.listViewEntries', () => {\n\t\t\t\tif (this.split.getSizes()[1] < 10) {\n\t\t\t\t\tconst defaultGutterPosition = this.getDefaultSplitSizes();\n\t\t\t\t\tthis.split.setSizes(defaultGutterPosition);\n\t\t\t\t\tlistPreview.show();\n\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', defaultGutterPosition);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (this.list.parents('.blockContent').length) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tmainBody.on('scroll', () => {\n\t\t\t\tif (mainBody.scrollTop() >= listOffsetTop) {\n\t\t\t\t\tfixedElements.css({ top: mainBody.scrollTop() - listOffsetTop });\n\t\t\t\t\tthis.sideBlocks.css({ top: mainBody.scrollTop() - listOffsetTop + 56 });\n\t\t\t\t\tfixedElements.css(mainViewPortHeightCss);\n\t\t\t\t\tthis.rotatedText.css(mainViewPortHeightCss);\n\t\t\t\t\tthis.rotatedText.css(mainViewPortWidthCss);\n\t\t\t\t} else {\n\t\t\t\t\tfixedElements.css({ top: 'initial' });\n\t\t\t\t\tfixedElements.css({ height: initialH + mainBody.scrollTop() });\n\t\t\t\t\tthis.rotatedText.css({\n\t\t\t\t\t\twidth: initialH + mainBody.scrollTop(),\n\t\t\t\t\t\theight: initialH + mainBody.scrollTop()\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Registers split's events.\n\t\t * @param {jQuery} container - current container for reference.\n\t\t * @param {Split} split - a split object.\n\t\t */\n\t\tregisterSplitEvents: function(container, split) {\n\t\t\tvar rightSplitMaxWidth = (400 / this.windowW) * 100;\n\t\t\tvar minWindowWidth = (23 / this.windowW) * 100;\n\t\t\tvar maxWindowWidth = 100 - minWindowWidth;\n\t\t\tvar listPreview = container.find('.js-detail-preview');\n\t\t\tthis.gutter.on('dblclick', () => {\n\t\t\t\tlet gutterRelatedMidPosition = app.moduleCacheGet('gutterRelatedMidPosition');\n\t\t\t\tif (isNaN(this.split.getSizes()[0])) {\n\t\t\t\t\tthis.split.setSizes(gutterRelatedMidPosition);\n\t\t\t\t}\n\t\t\t\tif (split.getSizes()[0] < 7) {\n\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-left');\n\t\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\t\tthis.list.removeClass('u-hide-underneath');\n\t\t\t\t\tif (gutterRelatedMidPosition[0] > 11) {\n\t\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t\t}\n\t\t\t\t} else if (split.getSizes()[1] < 20) {\n\t\t\t\t\tif (gutterRelatedMidPosition[1] > rightSplitMaxWidth + 1) {\n\t\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t\t}\n\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-right');\n\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\tlistPreview.show();\n\t\t\t\t} else if (split.getSizes()[0] > 7 && split.getSizes()[0] < 50) {\n\t\t\t\t\tsplit.setSizes([minWindowWidth, maxWindowWidth]);\n\t\t\t\t\tthis.gutter.addClass('js-gutter-corr-left');\n\t\t\t\t\tthis.sideBlockLeft.addClass('d-block');\n\t\t\t\t\tthis.list.addClass('u-hide-underneath');\n\t\t\t\t} else if (split.getSizes()[1] > 10 && split.getSizes()[1] < 50) {\n\t\t\t\t\tsplit.setSizes([maxWindowWidth, minWindowWidth]);\n\t\t\t\t\tthis.gutter.addClass('js-gutter-corr-right');\n\t\t\t\t\tthis.sideBlockRight.addClass('d-block');\n\t\t\t\t\tlistPreview.hide();\n\t\t\t\t\t//this.list.width(this.list.width() - 10);\n\t\t\t\t}\n\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t});\n\t\t\tthis.sideBlockLeft.on('click', () => {\n\t\t\t\tlet gutterRelatedMidPosition = app.moduleCacheGet('gutterRelatedMidPosition');\n\t\t\t\tif (gutterRelatedMidPosition[0] > 11) {\n\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t} else {\n\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t}\n\t\t\t\tthis.gutter.removeClass('js-gutter-corr-left');\n\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\tthis.list.removeClass('u-hide-underneath');\n\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t});\n\t\t\tthis.sideBlockRight.on('click', () => {\n\t\t\t\tlet gutterRelatedMidPosition = app.moduleCacheGet('gutterRelatedMidPosition');\n\t\t\t\tif (gutterRelatedMidPosition[1] > rightSplitMaxWidth + 1) {\n\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t} else {\n\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t}\n\t\t\t\tthis.gutter.removeClass('js-gutter-corr-right');\n\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\tlistPreview.show();\n\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t});\n\t\t},\n\t\tregisterSplit: function(container) {\n\t\t\tvar rightSplitMaxWidth = (400 / this.windowW) * 100;\n\t\t\tconst splitSizes = this.getSplitSizes();\n\t\t\tapp.moduleCacheSet('gutterRelatedMidPosition', splitSizes);\n\t\t\tvar split = Split([this.list[0], this.preview[0]], {\n\t\t\t\tsizes: splitSizes,\n\t\t\t\tminSize: 10,\n\t\t\t\tgutterSize: 24,\n\t\t\t\tsnapOffset: 100,\n\t\t\t\tonDrag: () => {\n\t\t\t\t\tif (split.getSizes()[1] < rightSplitMaxWidth) {\n\t\t\t\t\t\tsplit.collapse(1);\n\t\t\t\t\t}\n\t\t\t\t\tif (split.getSizes()[0] < 7) {\n\t\t\t\t\t\tthis.sideBlockLeft.addClass('d-block');\n\t\t\t\t\t\tthis.list.addClass('u-hide-underneath');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-left');\n\t\t\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\t\t\tthis.list.removeClass('u-hide-underneath');\n\t\t\t\t\t}\n\t\t\t\t\tif (split.getSizes()[1] < 10) {\n\t\t\t\t\t\tthis.sideBlockRight.addClass('d-block');\n\t\t\t\t\t\tthis.preview.hide();\n\t\t\t\t\t\tthis.list.width(this.list.width() - 10);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-right');\n\t\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\t\tthis.preview.show();\n\t\t\t\t\t}\n\t\t\t\t\tif (split.getSizes()[0] > 10 && split.getSizes()[1] > rightSplitMaxWidth) {\n\t\t\t\t\t\tapp.moduleCacheSet('gutterRelatedMidPosition', split.getSizes());\n\t\t\t\t\t}\n\t\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.gutter = container.find('.gutter');\n\t\t\tif (splitSizes[0] < 10) {\n\t\t\t\tthis.gutter.addClass('js-gutter-corr-left');\n\t\t\t\tthis.sideBlockLeft.addClass('d-block');\n\t\t\t\tthis.list.addClass('u-hide-underneath');\n\t\t\t} else if (splitSizes[1] < rightSplitMaxWidth) {\n\t\t\t\tthis.gutter.addClass('js-gutter-corr-right');\n\t\t\t\tthis.sideBlockRight.addClass('d-block');\n\t\t\t\tthis.preview.hide();\n\t\t\t}\n\t\t\tvar mainWindowHeightCss = { height: $(window).height() - this.list.offset().top - this.footerH };\n\t\t\tif (!container.closest('.mainBody').length) {\n\t\t\t\tlet mainBody = $(top.document)\n\t\t\t\t\t.find('.mainBody')\n\t\t\t\t\t.height();\n\t\t\t\tlet iframe = $(top.document).find('.js-detail-preview');\n\t\t\t\tmainWindowHeightCss = { height: mainBody - this.list.offset().top - iframe.offset().top + 50 };\n\t\t\t}\n\t\t\tif (!this.list.parents('.blockContent').length) {\n\t\t\t\tthis.gutter.css(mainWindowHeightCss);\n\t\t\t\tthis.list.css(mainWindowHeightCss);\n\t\t\t\tthis.sideBlocks.css(mainWindowHeightCss);\n\t\t\t\tthis.rotatedText.css({\n\t\t\t\t\twidth: this.sideBlockLeft.height(),\n\t\t\t\t\theight: this.sideBlockLeft.height()\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.registerSplitEvents(container, split);\n\t\t\treturn split;\n\t\t},\n\t\ttoggleSplit: function(container) {\n\t\t\tvar commactHeight = container.closest('.commonActionsContainer').height();\n\t\t\tvar splitsArray = [];\n\t\t\tthis.split = this.registerSplit(container);\n\t\t\tsplitsArray.push(this.split);\n\t\t\t$(window).on('resize', () => {\n\t\t\t\tif ($(window).width() < 993) {\n\t\t\t\t\tif (container.find('.gutter').length) {\n\t\t\t\t\t\tsplitsArray[splitsArray.length - 1].destroy();\n\t\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (container.find('.gutter').length !== 1) {\n\t\t\t\t\t\tthis.split = this.registerSplit(container);\n\t\t\t\t\t\tvar gutter = container.find('.gutter');\n\t\t\t\t\t\tif (this.mainBody.scrollTop() >= this.list.offset().top + commactHeight) {\n\t\t\t\t\t\t\tgutter.addClass('gutterOnScroll');\n\t\t\t\t\t\t\tgutter.css('left', this.preview.offset().left - 8);\n\t\t\t\t\t\t\tgutter.on('mousedown', function() {\n\t\t\t\t\t\t\t\t$(this).on('mousemove', function(e) {\n\t\t\t\t\t\t\t\t\t$(this).css('left', this.preview.offset().left - 8);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsplitsArray.push(this.split);\n\t\t\t\t\t}\n\t\t\t\t\tvar currentSplit = splitsArray[splitsArray.length - 1];\n\t\t\t\t\tvar minWidth = (15 / $(window).width()) * 100;\n\t\t\t\t\tvar maxWidth = 100 - minWidth;\n\t\t\t\t\tif (typeof currentSplit === 'undefined') return;\n\t\t\t\t\tif (currentSplit.getSizes()[0] < minWidth + 5) {\n\t\t\t\t\t\tcurrentSplit.setSizes([minWidth, maxWidth]);\n\t\t\t\t\t} else if (currentSplit.getSizes()[1] < minWidth + 5) {\n\t\t\t\t\t\tcurrentSplit.setSizes([maxWidth, minWidth]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterListScroll: function() {\n\t\t\tlet container = $('.listViewEntriesDiv');\n\t\t\tif (this.relatedView !== 'ListPreview') {\n\t\t\t\tcontainer.each((index, element) => {\n\t\t\t\t\tapp.showNewScrollbarTopBottomRight($(element));\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tgetRecordsCount: function() {\n\t\t\tlet aDeferred = $.Deferred(),\n\t\t\t\trecordCountVal = $('#recordsCount').val();\n\t\t\tif (recordCountVal != '') {\n\t\t\t\taDeferred.resolve(recordCountVal);\n\t\t\t} else {\n\t\t\t\tlet params = this.getCompleteParams();\n\t\t\t\tdelete params.view;\n\t\t\t\tparams.action = 'DetailAjax';\n\t\t\t\tparams.mode = 'getRecordsCount';\n\t\t\t\tAppConnector.request(params).done(function(data) {\n\t\t\t\t\t$('#recordsCount').val(data['result']['count']);\n\t\t\t\t\taDeferred.resolve(data['result']['count']);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tnoRecordSelectedAlert: function(text = 'JS_PLEASE_SELECT_ONE_RECORD') {\n\t\t\treturn Vtiger_Helper_Js.showPnotify({ text: app.vtranslate(text) });\n\t\t},\n\t\tgetCurrentCvId: function() {\n\t\t\treturn $('#customFilter')\n\t\t\t\t.find('option:selected')\n\t\t\t\t.data('id');\n\t\t},\n\t\tcheckListRecordSelected: function(minNumberOfRecords = 1) {\n\t\t\tlet selectedIds = this.readSelectedIds();\n\t\t\tif (typeof selectedIds === 'object' && selectedIds.length < minNumberOfRecords) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\treadSelectedIds: function(decode) {\n\t\t\tlet selectedIdsDataAttr = this.getCurrentCvId() + 'Selectedids',\n\t\t\t\tselectedIdsElementDataAttributes = $('#selectedIds').data(),\n\t\t\t\tselectedIds = [];\n\t\t\tif (!(selectedIdsDataAttr in selectedIdsElementDataAttributes)) {\n\t\t\t\tthis.writeSelectedIds(selectedIds);\n\t\t\t} else {\n\t\t\t\tselectedIds = selectedIdsElementDataAttributes[selectedIdsDataAttr];\n\t\t\t}\n\t\t\tif (decode == true && typeof selectedIds == 'object') {\n\t\t\t\treturn JSON.stringify(selectedIds);\n\t\t\t}\n\t\t\treturn selectedIds;\n\t\t},\n\t\twriteSelectedIds: function(selectedIds) {\n\t\t\tif (!Array.isArray(selectedIds)) {\n\t\t\t\tselectedIds = [selectedIds];\n\t\t\t}\n\t\t\t$('#selectedIds').data(this.getCurrentCvId() + 'Selectedids', selectedIds);\n\t\t},\n\t\treadExcludedIds: function(decode) {\n\t\t\tlet excludedIdsDataAttr = this.getCurrentCvId() + 'Excludedids',\n\t\t\t\texcludedIdsElementDataAttributes = $('#excludedIds').data(),\n\t\t\t\texcludedIds = [];\n\t\t\tif (!(excludedIdsDataAttr in excludedIdsElementDataAttributes)) {\n\t\t\t\tthis.writeExcludedIds(excludedIds);\n\t\t\t} else {\n\t\t\t\texcludedIds = excludedIdsElementDataAttributes[excludedIdsDataAttr];\n\t\t\t}\n\t\t\tif (decode == true && typeof excludedIds == 'object') {\n\t\t\t\treturn JSON.stringify(excludedIds);\n\t\t\t}\n\t\t\treturn excludedIds;\n\t\t},\n\t\twriteExcludedIds: function(excludedIds) {\n\t\t\t$('#excludedIds').data(this.getCurrentCvId() + 'Excludedids', excludedIds);\n\t\t},\n\t\tcheckSelectAll: function() {\n\t\t\tlet state = true;\n\t\t\t$('.relatedListViewEntriesCheckBox').each(function(index, element) {\n\t\t\t\tif ($(element).is(':checked')) {\n\t\t\t\t\tstate = true;\n\t\t\t\t} else {\n\t\t\t\t\tstate = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('#relatedListViewEntriesMainCheckBox').prop('checked', state);\n\t\t\treturn state;\n\t\t},\n\t\tregisterCheckBoxClickEvent: function() {\n\t\t\tconst self = this;\n\t\t\tthis.getRelatedContainer().on('click', '.relatedListViewEntriesCheckBox', function(e) {\n\t\t\t\tlet selectedIds = self.readSelectedIds(),\n\t\t\t\t\texcludedIds = self.readExcludedIds(),\n\t\t\t\t\telem = $(e.currentTarget);\n\t\t\t\tif (elem.is(':checked')) {\n\t\t\t\t\telem.closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\texcludedIds.splice($.inArray(elem.val(), excludedIds), 1);\n\t\t\t\t\t} else if ($.inArray(elem.val(), selectedIds) == -1) {\n\t\t\t\t\t\tselectedIds.push(elem.val());\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\telem.closest('tr').removeClass('highlightBackgroundColor');\n\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\texcludedIds.push(elem.val());\n\t\t\t\t\t\tselectedIds = 'all';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tselectedIds.splice($.inArray(elem.val(), selectedIds), 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tself.checkSelectAll();\n\t\t\t\tself.writeSelectedIds(selectedIds);\n\t\t\t\tself.writeExcludedIds(excludedIds);\n\t\t\t});\n\t\t},\n\t\tregisterMainCheckBoxClickEvent: function() {\n\t\t\tconst self = this;\n\t\t\tthis.getRelatedContainer().on('click', '#relatedListViewEntriesMainCheckBox', function() {\n\t\t\t\tlet selectedIds = self.readSelectedIds(),\n\t\t\t\t\texcludedIds = self.readExcludedIds();\n\t\t\t\tif ($('#relatedListViewEntriesMainCheckBox').is(':checked')) {\n\t\t\t\t\tlet recordCountObj = self.getRecordsCount();\n\t\t\t\t\trecordCountObj.done(function(data) {\n\t\t\t\t\t\t$('#totalRecordsCount').text(data);\n\t\t\t\t\t\tif ($('#deSelectAllMsgDiv').css('display') == 'none') {\n\t\t\t\t\t\t\t$('#selectAllMsgDiv').show();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function(index, element) {\n\t\t\t\t\t\t$(this)\n\t\t\t\t\t\t\t.prop('checked', true)\n\t\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t\t.addClass('highlightBackgroundColor');\n\t\t\t\t\t\tif (selectedIds == 'all' && $.inArray($(element).val(), excludedIds) != -1) {\n\t\t\t\t\t\t\texcludedIds.splice($.inArray($(element).val(), excludedIds), 1);\n\t\t\t\t\t\t} else if ($.inArray($(element).val(), selectedIds) == -1) {\n\t\t\t\t\t\t\tselectedIds.push($(element).val());\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t$('#selectAllMsgDiv').hide();\n\t\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function(index, element) {\n\t\t\t\t\t\t$(this)\n\t\t\t\t\t\t\t.prop('checked', false)\n\t\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t\t.removeClass('highlightBackgroundColor');\n\t\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\t\texcludedIds.push($(element).val());\n\t\t\t\t\t\t\tselectedIds = 'all';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tselectedIds.splice($.inArray($(element).val(), selectedIds), 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tself.writeSelectedIds(selectedIds);\n\t\t\t\tself.writeExcludedIds(excludedIds);\n\t\t\t});\n\t\t},\n\t\tregisterSelectAllClickEvent: function() {\n\t\t\tconst self = this;\n\t\t\tself.getRelatedContainer().on('click', '#selectAllMsg', function() {\n\t\t\t\t$('#selectAllMsgDiv').hide();\n\t\t\t\t$('#deSelectAllMsgDiv').show();\n\t\t\t\t$('#relatedListViewEntriesMainCheckBox').prop('checked', true);\n\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function(index, element) {\n\t\t\t\t\t$(this)\n\t\t\t\t\t\t.prop('checked', true)\n\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t.addClass('highlightBackgroundColor');\n\t\t\t\t});\n\t\t\t\tself.writeSelectedIds('all');\n\t\t\t});\n\t\t},\n\t\tregisterDeselectAllClickEvent: function() {\n\t\t\tconst self = this;\n\t\t\tself.getRelatedContainer().on('click', '#deSelectAllMsg', function() {\n\t\t\t\t$('#deSelectAllMsgDiv').hide();\n\t\t\t\t$('#relatedListViewEntriesMainCheckBox').prop('checked', false);\n\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function(index, element) {\n\t\t\t\t\t$(this)\n\t\t\t\t\t\t.prop('checked', false)\n\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t.removeClass('highlightBackgroundColor');\n\t\t\t\t});\n\t\t\t\tself.writeSelectedIds([]);\n\t\t\t\tself.writeExcludedIds([]);\n\t\t\t});\n\t\t},\n\t\tregisterRelatedEvents: function() {\n\t\t\tthis.registerUnreviewedCountEvent();\n\t\t\tthis.registerChangeEntityStateEvent();\n\t\t\tthis.registerPaginationEvents();\n\t\t\tthis.registerListEvents();\n\t\t\tthis.registerPostLoadEvents();\n\t\t\tthis.registerSummationEvent();\n\t\t\tthis.registerCheckBoxClickEvent();\n\t\t\tthis.registerMainCheckBoxClickEvent();\n\t\t\tthis.registerSelectAllClickEvent();\n\t\t\tthis.registerDeselectAllClickEvent();\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","relatedListInstance","getInstance","parentId","parentModule","selectedRelatedTabElement","relatedModuleName","Vtiger_RelatedList_Js","moduleName","moduleClassName","app","getModuleName","fallbackClassName","instance","parentRecordId","parentModuleName","relatedTabsContainer","closest","content","$","relatedView","find","val","triggerMassAction","massActionUrl","type","validationResult","self","checkListRecordSelected","progressIndicator","selectedIds","readSelectedIds","excludedIds","readExcludedIds","cvId","getCurrentCvId","postData","getCompleteParams","mode","view","viewname","selected_ids","excluded_ids","form","append","name","csrfMagicName","value","csrfMagicToken","each","k","v","submit","progressIndicatorElement","request","url","data","done","responseData","result","notify","Vtiger_Helper_Js","showMessage","reloadList","Vtiger_Detail_Js","reloadRelatedList","procesStop","fail","noRecordSelectedAlert","verifyFileExist","Deferred","module","action","record","message","showPnotify","text","aDeferred","resolve","promise","triggerMassDownload","thisInstance","substring","indexOf","listSearchInstance","detailViewContentHolder","frameProgress","noEventsListSearch","listViewContainer","setSelectedTabElement","tabElement","getSelectedTabElement","getParentId","getRelatedContainer","setRelatedContainer","container","getContentHolder","getCurrentPageNum","setCurrentPageNumber","pageNumber","getOrderBy","getSortOrder","params","relatedModule","sortorder","orderby","page","length","getAlphabetSearchValue","search_params","JSON","stringify","getListSearchParams","getAlphabetSearchField","searchValue","switchBtn","time","first","prop","loadRelatedList","loadWidgets","position","blockInfo","enabled","completeParams","activeTabsReference","extend","currentInstance","progressInstance","removeClass","addClass","html","tooltip","registerPostLoadEvents","registerListEvents","textStatus","errorThrown","reject","vtranslate","triggerDisplayTypeEvent","cacheGet","widthType","elements","attr","showSelectRelation","extendParams","getRecordsListParams","showRecordsList","modal","setSelectEvent","addRelations","Object","keys","event","trigger","detail","registerRelatedModulesRecordCount","src_module","src_record","multi_select","idList","related_module","related_record_list","isArray","deleteRelation","target","element","id","AppConnector","response","widget","loadWidget","updatesWidget","sortHandler","headerElement","sortOrderVal","nextPageHandler","pageLimit","noOfEntries","nextPage","parseInt","previousPageHandler","previousPage","selectPageHandler","pageJumpHandler","e","which","currentTarget","Vtiger_WholeNumberGreaterThanZero_Validator_Js","invokeValidation","validationEngine","preventDefault","totalPages","jumpToPage","error","parent","currentPage","addRelatedRecord","callback","referenceModuleName","quickCreateParams","relatedParams","relatedField","fullFormUrl","preQuickCreateSave","queryParam","queryParamComponents","queryParameters","split","queryString","urlSplit","index","appendTo","inArray","eliminatedKeys","Vtiger_Header_Js","quickCreateModule","getRelatedPageCount","totalCountElem","totalPageNumber","numberOfRecords","pageCount","favoritesRelation","relcrmId","state","relcrmid","actionMode","updatePreview","getMainParams","defaultView","frame","replace","registerUnreviewedCountEvent","relatedContent","isUnreviewedActive","ids","push","sourceModule","recordsId","appData","a","m","registerChangeEntityStateEvent","on","registerRowsEvent","is","getViewName","top","document","location","href","row","inventoryRow","next","hasClass","toggleClass","contains","get","recordUrl","registerSummationEvent","calculateValue","button","hidePopover","success","progress","registerPreviewEvent","contentHeight","height","getScreenHeight","offset","contents","registerPaginationEvents","stopImmediatePropagation","openUrl","restrictionsField","search_key","key","search_value","title","showConfirmationBox","registerListScroll","getDomParams","toggleSplit","registerListPreviewEvents","YetiForce_ListSearch_Js","getSecondColMinWidth","maxWidth","i","thisWidth","width","listColumnFirstWidth","listColumnSecondWidth","windowW","window","mainBody","windowMinWidth","windowMaxWidth","minWidth","sideBlocks","sideBlockLeft","sideBlockRight","last","list","preview","rotatedText","footerH","outerHeight","headerH","getDefaultSplitSizes","thWidth","getSplitSizes","moduleCacheGet","cachedParams","listPreview","showNewScrollbarTopBottom","showNewScrollbarLeft","scrollTop","initialH","mainViewPortHeightCss","mainViewPortWidthCss","gutter","listOffsetTop","iframe","getSizes","setSizes","defaultGutterPosition","show","moduleCacheSet","parents","fixedElements","css","registerSplitEvents","rightSplitMaxWidth","minWindowWidth","maxWindowWidth","isNaN","gutterRelatedMidPosition","hide","registerSplit","splitSizes","Split","sizes","minSize","gutterSize","snapOffset","onDrag","collapse","mainWindowHeightCss","commactHeight","splitsArray","destroy","left","currentSplit","showNewScrollbarTopBottomRight","getRecordsCount","recordCountVal","minNumberOfRecords","decode","selectedIdsElementDataAttributes","selectedIdsDataAttr","writeSelectedIds","Array","excludedIdsElementDataAttributes","excludedIdsDataAttr","writeExcludedIds","checkSelectAll","registerCheckBoxClickEvent","elem","splice","registerMainCheckBoxClickEvent","recordCountObj","registerSelectAllClickEvent","registerDeselectAllClickEvent","registerRelatedEvents"],"mappings":"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"}