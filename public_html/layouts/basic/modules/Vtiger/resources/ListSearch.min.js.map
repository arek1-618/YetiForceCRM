{"version":3,"file":"ListSearch.min.js","sources":["ListSearch.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'YetiForce_ListSearch_Js',\n\t{\n\t\tgetInstance: function(container, noEvents, reletedInstance, moduleName) {\n\t\t\tif (typeof moduleName === 'undefined') {\n\t\t\t\tmoduleName = app.getModuleName();\n\t\t\t}\n\t\t\tlet moduleClassName = module + '_ListSearch_Js',\n\t\t\t\tinstance;\n\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\tinstance = new window[moduleClassName](container, noEvents, reletedInstance);\n\t\t\t} else {\n\t\t\t\tinstance = new window['YetiForce_ListSearch_Js'](container, noEvents, reletedInstance);\n\t\t\t}\n\t\t\tinstance.moduleName = moduleName;\n\t\t\treturn instance;\n\t\t}\n\t},\n\t{\n\t\tmoduleName: false,\n\t\tcontainer: false,\n\t\treletedInstance: false,\n\t\tviewName: false,\n\t\tinit: function(container, noEvents, reletedInstance) {\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\tcontainer = jQuery('.bodyContents');\n\t\t\t}\n\t\t\tthis.setContainer(container);\n\t\t\tif (noEvents != true && this.getContainer().find('[data-trigger=\"listSearch\"]').length) {\n\t\t\t\tthis.initialize();\n\t\t\t}\n\t\t\tthis.reletedInstance = reletedInstance;\n\t\t},\n\t\tsetContainer: function(container) {\n\t\t\tthis.container = container;\n\t\t},\n\t\tgetContainer: function() {\n\t\t\treturn this.container;\n\t\t},\n\t\tsetViewName: function(viewName) {\n\t\t\tthis.viewName = viewName;\n\t\t},\n\t\t/**\n\t\t * Function  to initialize the advance filter\n\t\t */\n\t\tinitialize: function() {\n\t\t\tthis.registerEvents();\n\t\t},\n\t\tgetAlphabetSearchField: function() {\n\t\t\treturn jQuery('#alphabetSearchKey').val();\n\t\t},\n\t\tgetAlphabetSearchValue: function() {\n\t\t\treturn jQuery('#alphabetValue').val();\n\t\t},\n\t\tregisterListSearch: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar listViewContainer = this.getContainer();\n\t\t\tlistViewContainer.find('[data-trigger=\"listSearch\"]').on('click', function(e) {\n\t\t\t\tthisInstance.reloadList();\n\t\t\t});\n\t\t\tlistViewContainer.find('input.listSearchContributor').on('keypress', function(e) {\n\t\t\t\tif (e.keyCode == 13) {\n\t\t\t\t\tthisInstance.triggerListSearch();\n\t\t\t\t}\n\t\t\t});\n\t\t\tlistViewContainer.find('.removeSearchConditions').on('click', function() {\n\t\t\t\tthisInstance.reloadList({ search_params: [], search_key: '', search_value: '', operator: '' });\n\t\t\t});\n\t\t},\n\t\tregisterListViewSelect: function() {\n\t\t\tlet self = this,\n\t\t\t\tlistViewContainer = this.getContainer();\n\t\t\tlistViewContainer.find('.listViewEntriesTable .select2noactive').each((index, domElement) => {\n\t\t\t\tlet select = $(domElement);\n\t\t\t\tif (!select.data('select2')) {\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(select, { placeholder: app.vtranslate('JS_SELECT_AN_OPTION') });\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (app.getMainParams('autoRefreshListOnChange') == '1') {\n\t\t\t\tlistViewContainer.find('.listViewEntriesTable select, .searchInSubcategories').on('change', () => {\n\t\t\t\t\tthis.triggerListSearch();\n\t\t\t\t});\n\t\t\t\tlistViewContainer.find('.listViewEntriesTable .picklistSearchField').on('apply.daterangepicker', () => {\n\t\t\t\t\tthis.triggerListSearch();\n\t\t\t\t});\n\t\t\t\tlistViewContainer.find('.listViewEntriesTable .dateField').on('DatePicker.onHide', function(e, y) {\n\t\t\t\t\tlet prevVal = $(this).data('prevVal'),\n\t\t\t\t\t\tvalue = $(this).val();\n\t\t\t\t\tif (prevVal != value) {\n\t\t\t\t\t\tself.triggerListSearch();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tapp.event.off('Clockpicker.changed');\n\t\t\t\tapp.event.on('Clockpicker.changed', (e, inputEl) => {\n\t\t\t\t\tif (listViewContainer.find(inputEl).length) {\n\t\t\t\t\t\tself.triggerListSearch();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tresetPagination: function() {\n\t\t\t//To unmark the all the selected ids\n\t\t\tjQuery('#deSelectAllMsg').trigger('click');\n\t\t\tjQuery('#recordsCount').val('');\n\t\t\t//To Set the page number as first page\n\t\t\tjQuery('#pageNumber').val('1');\n\t\t\tjQuery('#pageToJump').val('1');\n\t\t\tjQuery('#totalPageCount').text('');\n\t\t\tjQuery('.pagination').data('totalCount', 0);\n\t\t},\n\t\ttriggerListSearch: function() {\n\t\t\tvar listInstance = this;\n\t\t\tvar listViewContainer = listInstance.getContainer();\n\t\t\tlistViewContainer.find('[data-trigger=\"listSearch\"]').trigger('click');\n\t\t},\n\t\tregisterDateListSearch: function(container) {\n\t\t\tApp.Fields.Date.registerRange(this.getContainer().find('.dateRangeField'));\n\t\t},\n\t\tregisterTimeListSearch: function() {\n\t\t\tapp.registerEventForClockPicker();\n\t\t},\n\t\tregisterAlphabetClick: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tthis.getContainer()\n\t\t\t\t.find('.alphabetBtn')\n\t\t\t\t.on('click', function() {\n\t\t\t\t\tapp.showModalWindow($('.alphabetModal').html(), function(data) {\n\t\t\t\t\t\tthisInstance.registerEventForAlphabetSearch(data);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tgetCurrentCvId: function() {\n\t\t\treturn jQuery('#customFilter')\n\t\t\t\t.find('option:selected')\n\t\t\t\t.data('id');\n\t\t},\n\t\tregisterEventForAlphabetSearch: function(modalContainer) {\n\t\t\tvar thisInstance = this;\n\t\t\tmodalContainer.find('.alphabetSearch').on('click', function(e) {\n\t\t\t\tvar alphabet = jQuery(e.currentTarget)\n\t\t\t\t\t.find('a')\n\t\t\t\t\t.text();\n\t\t\t\tvar cvId = thisInstance.getCurrentCvId();\n\t\t\t\tvar AlphabetSearchKey = thisInstance.getAlphabetSearchField();\n\t\t\t\tvar urlParams = {\n\t\t\t\t\tviewname: cvId,\n\t\t\t\t\tsearch_key: AlphabetSearchKey,\n\t\t\t\t\tsearch_value: alphabet,\n\t\t\t\t\toperator: 's',\n\t\t\t\t\tpage: 1\n\t\t\t\t};\n\t\t\t\tthisInstance.resetPagination();\n\t\t\t\tthisInstance.reloadList(urlParams);\n\t\t\t\tapp.hideModalWindow();\n\t\t\t});\n\t\t\tmodalContainer.find('.removeAlfabetCondition').on('click', function() {\n\t\t\t\tthisInstance.reloadList({ search_key: '', search_value: '', operator: '' });\n\t\t\t\tapp.hideModalWindow();\n\t\t\t});\n\t\t},\n\t\tupdatePaginationOnAlphabetChange: function(alphabet, AlphabetSearchKey) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar params = {};\n\t\t\tparams['module'] = thisInstance.moduleName;\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['view'] = 'Pagination';\n\t\t\tparams['page'] = 1;\n\t\t\tparams['mode'] = 'getPagination';\n\t\t\tparams['search_key'] = AlphabetSearchKey;\n\t\t\tparams['search_value'] = alphabet;\n\t\t\tparams['operator'] = 's';\n\n\t\t\tAppConnector.request(params).done(function(data) {\n\t\t\t\tjQuery('.paginationDiv').html(data);\n\t\t\t\tvar instance = thisInstance.getInstanceView();\n\t\t\t\tif (instance && jQuery.isFunction(instance.registerPageNavigationEvents)) {\n\t\t\t\t\tinstance.registerPageNavigationEvents();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetListSearchParams: function(urlSearchParams) {\n\t\t\tvar listViewPageDiv = this.getContainer();\n\t\t\tvar listViewTable = listViewPageDiv.find('.listViewEntriesTable');\n\t\t\tvar searchParams = [];\n\t\t\tlistViewTable.find('.listSearchContributor').each(function(index, domElement) {\n\t\t\t\tvar searchInfo = [];\n\t\t\t\tvar searchContributorElement = jQuery(domElement);\n\t\t\t\tvar fieldInfo = searchContributorElement.data('fieldinfo');\n\t\t\t\tvar fieldName = searchContributorElement.attr('name');\n\t\t\t\tvar searchValue = searchContributorElement.val();\n\t\t\t\tif (typeof searchValue == 'object') {\n\t\t\t\t\tif (searchValue == null) {\n\t\t\t\t\t\tsearchValue = '';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsearchValue = searchValue.join('##');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsearchValue = searchValue.trim();\n\t\t\t\tif (searchValue.length <= 0) {\n\t\t\t\t\t//continue\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tvar searchOperator = 'a';\n\t\t\t\tif (fieldInfo.hasOwnProperty('searchOperator')) {\n\t\t\t\t\tsearchOperator = fieldInfo.searchOperator;\n\t\t\t\t} else if (\n\t\t\t\t\tjQuery.inArray(fieldInfo.type, [\n\t\t\t\t\t\t'modules',\n\t\t\t\t\t\t'time',\n\t\t\t\t\t\t'userCreator',\n\t\t\t\t\t\t'owner',\n\t\t\t\t\t\t'picklist',\n\t\t\t\t\t\t'tree',\n\t\t\t\t\t\t'boolean',\n\t\t\t\t\t\t'fileLocationType',\n\t\t\t\t\t\t'userRole',\n\t\t\t\t\t\t'companySelect',\n\t\t\t\t\t\t'multiReferenceValue'\n\t\t\t\t\t]) >= 0\n\t\t\t\t) {\n\t\t\t\t\tsearchOperator = 'e';\n\t\t\t\t} else if (fieldInfo.type == 'date' || fieldInfo.type == 'datetime') {\n\t\t\t\t\tsearchOperator = 'bw';\n\t\t\t\t} else if (fieldInfo.type == 'multipicklist' || fieldInfo.type == 'categoryMultipicklist') {\n\t\t\t\t\tsearchOperator = 'c';\n\t\t\t\t}\n\t\t\t\tlet sourceFieldName = searchContributorElement.data('sourceFieldName');\n\t\t\t\tif (sourceFieldName) {\n\t\t\t\t\tsearchInfo.push(fieldName + ':' + searchContributorElement.data('moduleName') + ':' + sourceFieldName);\n\t\t\t\t} else {\n\t\t\t\t\tsearchInfo.push(fieldName);\n\t\t\t\t}\n\t\t\t\tsearchInfo.push(searchOperator);\n\t\t\t\tsearchInfo.push(searchValue);\n\t\t\t\tif (fieldInfo.type == 'tree' || fieldInfo.type == 'categoryMultipicklist') {\n\t\t\t\t\tvar searchInSubcategories = jQuery(\n\t\t\t\t\t\t'.listViewHeaders .searchInSubcategories[data-columnname=\"' + fieldName + '\"]'\n\t\t\t\t\t).prop('checked');\n\t\t\t\t\tsearchInfo.push(searchInSubcategories);\n\t\t\t\t}\n\t\t\t\tsearchParams.push(searchInfo);\n\t\t\t});\n\t\t\tif (urlSearchParams) {\n\t\t\t\tvar valueInSearch = null;\n\t\t\t\tvar url = app.getUrlVar('search_params');\n\t\t\t\tif (url != undefined && url.length) {\n\t\t\t\t\tvar lengthUrl = url.length;\n\t\t\t\t\tif (url.charAt(lengthUrl - 1) === '#') {\n\t\t\t\t\t\turl = url.substr(0, lengthUrl - 1);\n\t\t\t\t\t}\n\t\t\t\t\turl = JSON.parse(decodeURIComponent(url));\n\t\t\t\t\t$.each(url[0], function(index, value) {\n\t\t\t\t\t\tvar exist = false;\n\t\t\t\t\t\t$.each(searchParams, function(index, searchParam) {\n\t\t\t\t\t\t\tif (searchParam[0] == value[0]) {\n\t\t\t\t\t\t\t\texist = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (value[0].indexOf(':') === -1) {\n\t\t\t\t\t\t\tvalueInSearch = listViewTable.find('.listSearchContributor[name=\"' + value[0] + '\"]').val();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet fieldRelation = value[0].split(':');\n\t\t\t\t\t\t\tvalueInSearch = listViewTable\n\t\t\t\t\t\t\t\t.find(\n\t\t\t\t\t\t\t\t\t'.listSearchContributor[name=\"' +\n\t\t\t\t\t\t\t\t\t\tfieldRelation[0] +\n\t\t\t\t\t\t\t\t\t\t'\"][data-module-name=\"' +\n\t\t\t\t\t\t\t\t\t\tfieldRelation[1] +\n\t\t\t\t\t\t\t\t\t\t'\"][data-source-field-name=\"' +\n\t\t\t\t\t\t\t\t\t\tfieldRelation[2] +\n\t\t\t\t\t\t\t\t\t\t'\"]'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.val();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (exist == false && valueInSearch != '' && valueInSearch !== null) {\n\t\t\t\t\t\t\tsearchParams.push(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn [searchParams];\n\t\t},\n\t\tgetInstanceByView: function() {\n\t\t\tvar viewName = this.viewName ? this.viewName : app.getViewName();\n\t\t\tvar instance = false;\n\t\t\tif (viewName === 'RecordsList') {\n\t\t\t\tinstance = this.reletedInstance;\n\t\t\t\tinstance.reloadFunctionName = 'loadRecordList';\n\t\t\t\tinstance.execute = ['updatePagination'];\n\t\t\t} else if (this.reletedInstance) {\n\t\t\t\tinstance = this.reletedInstance;\n\t\t\t\tinstance.reloadFunctionName = 'loadRelatedList';\n\t\t\t} else if (viewName === 'Detail') {\n\t\t\t\tinstance = Vtiger_Detail_Js.getInstance();\n\t\t\t\tinstance.reloadFunctionName = 'loadRelatedList';\n\t\t\t} else if (viewName == 'List') {\n\t\t\t\tinstance = new Vtiger_List_Js();\n\t\t\t\tinstance.reloadFunctionName = 'getListViewRecords';\n\t\t\t\tinstance.execute = ['updatePagination'];\n\t\t\t} else if (viewName == 'ListPreview') {\n\t\t\t\tinstance = window.pageController;\n\t\t\t\tinstance.reloadFunctionName = 'getListViewRecords';\n\t\t\t\tinstance.execute = ['updatePagination'];\n\t\t\t}\n\t\t\treturn instance;\n\t\t},\n\t\treloadList: function(params) {\n\t\t\tvar thisInstance = this;\n\t\t\tif (params == undefined) {\n\t\t\t\tparams = { page: 1 };\n\t\t\t}\n\t\t\tvar instance = this.getInstanceByView();\n\t\t\tif (instance) {\n\t\t\t\tvar funcName = instance.reloadFunctionName;\n\t\t\t\tif (jQuery.isFunction(instance[funcName])) {\n\t\t\t\t\tinstance[funcName](params).done(function() {\n\t\t\t\t\t\tthisInstance.resetPagination();\n\t\t\t\t\t\tthisInstance.executeFunctions(instance);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\texecuteFunctions: function(instance) {\n\t\t\tif (instance.execute) {\n\t\t\t\tvar func = instance.execute;\n\t\t\t\tfor (var i in func) {\n\t\t\t\t\tvar funcName = func[i];\n\t\t\t\t\tif (jQuery.isFunction(instance[funcName])) {\n\t\t\t\t\t\tinstance[funcName]();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tregisterBasicEvents: function() {\n\t\t\tthis.registerListViewSelect();\n\t\t\tthis.registerDateListSearch();\n\t\t\tthis.registerTimeListSearch();\n\t\t\tthis.registerAlphabetClick();\n\t\t\tthis.registerListSearch();\n\t\t\tthis.getContainer()\n\t\t\t\t.find('select.select2')\n\t\t\t\t.each(function(i, obj) {\n\t\t\t\t\tif (!$(obj).data('select2')) {\n\t\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView($(obj));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will regiter all events for this page\n\t\t */\n\t\tregisterEvents: function() {\n\t\t\tthis.registerBasicEvents();\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","getInstance","container","noEvents","reletedInstance","moduleName","app","getModuleName","moduleClassName","module","instance","viewName","init","setContainer","getContainer","find","length","initialize","setViewName","registerEvents","getAlphabetSearchField","val","getAlphabetSearchValue","registerListSearch","listViewContainer","on","thisInstance","reloadList","e","keyCode","triggerListSearch","search_params","search_key","search_value","operator","registerListViewSelect","self","each","index","domElement","$","select","data","App","Fields","Picklist","showSelect2ElementView","placeholder","vtranslate","getMainParams","value","prevVal","event","off","inputEl","resetPagination","trigger","text","listInstance","registerDateListSearch","Date","registerRange","registerTimeListSearch","registerEventForClockPicker","registerAlphabetClick","showModalWindow","html","registerEventForAlphabetSearch","getCurrentCvId","modalContainer","currentTarget","cvId","AlphabetSearchKey","viewname","alphabet","page","hideModalWindow","updatePaginationOnAlphabetChange","params","getParentModuleName","AppConnector","request","done","getInstanceView","isFunction","registerPageNavigationEvents","getListSearchParams","urlSearchParams","listViewTable","listViewPageDiv","searchParams","searchContributorElement","fieldInfo","fieldName","attr","searchValue","join","trim","hasOwnProperty","searchOperator","inArray","type","sourceFieldName","searchInfo","push","prop","searchInSubcategories","url","getUrlVar","charAt","lengthUrl","substr","JSON","parse","decodeURIComponent","searchParam","exist","indexOf","valueInSearch","split","fieldRelation","getInstanceByView","getViewName","reloadFunctionName","execute","Vtiger_Detail_Js","window","pageController","funcName","executeFunctions","func","i","registerBasicEvents","obj"],"mappings":"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"}